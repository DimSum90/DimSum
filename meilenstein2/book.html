<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="book.css" type="text/css">
    <script type="text/javascript" src="roman_books.json"></script>
    <script type="text/javascript" src="horror_books.json"></script>
    <meta charset="UTF-8">
    <title>Meine Bücher</title>

    <script>
        var xml = new XMLHttpRequest(); //erstellen und eine neue xml Request

        window.onload = function () { //Fenster ladet
            xml.open("GET", "horror_books.json", false); //Öffnen der Json Datei
            xml.send(null); //ohne Anhang

            var horror = JSON.parse(xml.responseText);
            horror = horror.horrordata;

            xml.open("GET", "roman_books.json", false); //Öffnen der Json Datei
            xml.send(null); //ohne Anhang

            var roman = JSON.parse(xml.responseText);
            roman = roman.romandata;
            myFunction(horror, "horror");
            myFunction(roman, "roman");
            document.getElementById("tabelle1").style.visibility = "hidden";


        };


        function loadHorror() {
            document.getElementById("tabelle1").style.visibility = "hidden";
            document.getElementById("tabelle2").style.visibility = "visible";

        }

        function loadRoman() {

            document.getElementById("tabelle2").style.visibility = "hidden";
            document.getElementById("tabelle1").style.visibility = "visible";
        }

        function myFunction(genre, string) {


            for (var i = 0; i < genre.length; i++) {


                var zeile = document.createElement("TR");
                zeile.setAttribute("id", "myTr" + i);

                if (string == "roman") {
                    document.getElementById("tabelle1").appendChild(zeile);
                } else {
                    document.getElementById("tabelle2").appendChild(zeile);
                }

                var z = document.createElement("TD");
                var t = document.createTextNode(genre[i].autor);
                z.appendChild(t);
                document.getElementById("myTr" + i).appendChild(z);

                var z = document.createElement("TD");
                var t = document.createTextNode(genre[i].titel);
                z.appendChild(t);
                document.getElementById("myTr" + i).appendChild(z);

                var z = document.createElement("TD");
                var t = document.createTextNode(genre[i].kapitel);
                z.appendChild(t);
                document.getElementById("myTr" + i).appendChild(z);

                var z = document.createElement("TD");
                var t = document.createTextNode(genre[i].buchart);
                z.appendChild(t);
                document.getElementById("myTr" + i).appendChild(z);

                var z = document.createElement("TD");
                var t = document.createTextNode(genre[i].ISBN);
                z.appendChild(t);
                document.getElementById("myTr" + i).appendChild(z);

                var z = document.createElement("TD");
                var t = document.createTextNode(genre[i].erscheinungsjahr);
                z.appendChild(t);
                document.getElementById("myTr" + i).appendChild(z);

                var z = document.createElement("TD");
                var t = document.createTextNode(genre[i].auflage);
                z.appendChild(t);
                document.getElementById("myTr" + i).appendChild(z);


            }
        }


    </script>

    <title>book</title>
</head>

<body>
<h1 class="center">Meine Bücher</h1>
<br>
<br>
<button class="buttonBuchgenre" onclick="loadHorror()">Horror</button>
<button class="buttonBuchgenre" onclick="loadRoman()">Roman</button>


<table class="center" id="tabelle1">
    <tr>
        <th>Autor</th>
        <th>Titel</th>
        <th>Kapitel</th>
        <th>Art des Buches</th>
        <th>ISBN</th>
        <th>Erscheinungsjahr</th>
        <th>Auflage</th>
    </tr>

</table>


<table id="tabelle2" class="center">
    <tr>
        <th>Autor</th>
        <th>Titel</th>
        <th>Kapitel</th>
        <th>Art des Buches</th>
        <th>ISBN</th>
        <th>Erscheinungsjahr</th>
        <th>Auflage</th>
    </tr>

</table>

</body>


</html>